:root{ --bg:#ebbe2d; --bezel:#000; --panel:#111519; --accent:#d74824; --glass:#0e1218; --text:#111 }
body{ margin:0; background:var(--bg); color:var(--text); font:16px/1.4 Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif }
.header{ display:flex; align-items:center; gap:10px; padding:10px 14px } .header img{ width:24px; height:24px } .brand{ font-weight:900; letter-spacing:.08em }
.machine3{ width:min(1200px,95vw); margin:24px auto; display:grid; grid-template-columns:1.5fr 0.6fr 0.45fr; gap:16px; padding:18px; border-radius:18px; box-shadow: inset 0 0 0 2px rgba(0,0,0,.35), 0 12px 40px rgba(0,0,0,.25); background:var(--bg) }
.window{ background:var(--bg); border:8px solid var(--bezel); border-radius:12px; padding:12px; display:grid; grid-template-rows:auto 1fr; gap:12px }
.window-header{ display:grid; grid-template-columns:auto 1fr; align-items:center; gap:10px } .window-logo{ width:64px; height:64px } .window h1{ margin:0; color:#fff; font-weight:900; line-height:.9 }
.grid{ display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px }
.slot{ background:#fff; border-radius:14px; overflow:hidden; display:grid; grid-template-rows:130px auto; box-shadow: 0 2px 0 rgba(0,0,0,.1) }
.slot .thumb{ background-size:cover; background-position:center } .slot .meta{ padding:10px; background:#fff }
.slot .title{ font-weight:900 } .slot .series{ color:#667085; font-size:12px; margin-top:2px }
.slot .row{ display:flex; align-items:center; justify-content:space-between; margin-top:6px } .slot .price{ font-weight:900 } .slot .code{ display:none }
.console{ display:grid; grid-template-rows:auto auto auto 1fr auto; gap:12px; align-items:start }
.mini-screen{ height:160px;  height:100px; background:#000; border:8px solid var(--bezel); border-radius:10px; display:grid; place-items:center; padding:0; background-size:cover; background-position:center; cursor:pointer; position:relative }
.mini-screen .label{ position:absolute; bottom:6px; left:8px; right:8px; color:#fff; font-weight:900; font-size:12px; text-shadow:0 1px 2px rgba(0,0,0,.6) }
.mini-keys{ background:var(--panel); border-radius:12px; padding:8px; border:8px solid var(--bezel); display:grid; grid-template-columns:repeat(2,1fr); gap:8px }
.mini-keys button{ padding:10px 0; border:0; border-radius:10px; background:#2a2f39; color:#fff; font-weight:800; cursor:pointer }
.mini-hint{ font-size:11px; color:#333; margin:0 4px }
.coin{ height:60px; border-radius:12px; border:8px solid var(--bezel); background:#222; color:#ffd86a; font-weight:900; font-size:22px; display:grid; place-items:center; cursor:pointer }
.cart-window{ background:var(--glass); border:8px solid var(--bezel); border-radius:12px; padding:8px; display:grid; grid-template-rows:auto 1fr; gap:8px }
.cart-title{ color:#ffd86a; font-weight:900; font-size:14px }
.tray-row{ display:flex; gap:8px; overflow:auto } .tray-item{ width:56px; height:56px; border-radius:8px; background:#fff center/cover no-repeat; position:relative }
.tray-item .badge{ position:absolute; right:4px; top:4px; background:#111; color:#fff; font-size:11px; border-radius:999px; padding:2px 6px }
.tray-item .mini-qty{ position:absolute; right:4px; bottom:4px; display:flex; gap:4px }
.tray-item .mini-qty button{ width:18px; height:18px; border-radius:6px; border:0; background:#0f1420; color:#dfe7ff; font-weight:900; line-height:18px; padding:0; cursor:pointer }
.total-line{ text-align:right; font-weight:900 }
.case4{ background:var(--bg); border:8px solid var(--bezel); border-radius:12px; padding:10px; display:grid; grid-template-rows:repeat(4,1fr); gap:10px }
.case4 .case-slot{ background:#0f141b; border-radius:8px; display:grid; place-items:center } .case4 .case-slot img{ max-width:90%; max-height:90%; object-fit:contain }
.drawer{ position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.6) } .drawer.open{ display:grid }
.sheet{ width:min(720px, 92vw); background:#0f141b; color:#fff; border-radius:16px; padding:24px; position:relative }
.sheet .submit{ background:var(--accent); color:#fff; border:0; padding:12px; border-radius:10px; font-weight:900; cursor:pointer; width:100% }
.sheet .close{ background:transparent; border:0; color:#fff; position:absolute; right:16px; top:12px; font-size:22px; cursor:pointer }
.form .row{ display:grid; grid-template-columns:1fr 1fr; gap:12px } .form input, .form textarea, .form select{ width:100%; padding:10px; border-radius:10px; border:1px solid #283041; background:#0a0f16; color:#e7eefc }
.footer{ padding:20px; text-align:center; opacity:.7 }

.machine3{ position:relative }
.machine3::before,.machine3::after{
  content:""; position:absolute; bottom:-12px; width:120px; height:18px; background:#111; border-radius:8px;
  box-shadow: 0 2px 0 rgba(0,0,0,.2);
}
.machine3::before{ left:40px }
.machine3::after{ right:40px }

.cart-screen{ background:var(--bg); border:8px solid var(--bezel); border-radius:12px; padding:8px; display:grid; grid-template-rows:auto 1fr auto; gap:8px }
.cart-screen .cart-label{ font-weight:900; color:#111 }
.cart-display{ height:100px; border:8px solid var(--bezel); border-radius:10px; background-size:cover; background-position:center; position:relative }
.cart-display .label{ position:absolute; bottom:6px; left:8px; right:8px; color:#fff; font-weight:900; font-size:12px; text-shadow:0 1px 2px rgba(0,0,0,.6) }
.cart-controls{ display:grid; grid-template-columns:1fr auto 1fr; gap:8px; align-items:center }
.cart-controls button{ padding:10px 0; border:0; border-radius:10px; background:#2a2f39; color:#fff; font-weight:800; cursor:pointer }
.cart-controls .qty{ display:flex; align-items:center; gap:8px; justify-content:center }
.cart-controls .qty .cqty{ min-width:28px; text-align:center; font-weight:900 }

/* Cart overlay controls inside screen */
.cart-display{ height:160px; position:relative; background-size:cover; background-position:center; border:8px solid var(--bezel); border-radius:10px }
.cart-display .overlay{ position:absolute; bottom:10px; background:#2a2f39; color:#fff; border:0; border-radius:10px; font-weight:800; padding:8px 12px; opacity:.95 }
.cart-display .overlay.prev{ left:10px }
.cart-display .overlay.next{ right:10px }
.cart-display .overlay.qty{ left:50%; transform:translateX(-50%); display:flex; align-items:center; gap:10px; padding:6px 10px }
.cart-display .overlay.qty .cqty{ min-width:28px; text-align:center; font-weight:900 }
.cart-display .overlay.qty .minus,.cart-display .overlay.qty .plus{ width:28px; height:28px; border-radius:8px; background:#0f1420; color:#e7eefc; border:0 }

.mini-screen{ height:200px !important; }
.cart-display{ height:200px !important; }
